{% extends "base.html" %}
{% block title %}Market Opportunity{% endblock %}

{% block content %}
<section class="section bg-gradient-to-br from-green-50 to-blue-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-10">
            <span class="text-green-600 font-semibold">Market Analysis</span>
            <h1 class="text-4xl font-bold mt-2 mb-4">Vast Healthcare Opportunity</h1>
            <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                India's healthcare market, driven by the Ayushman Bharat Digital Mission, offers immense potential for digital transformation, fueled by a large population and rising demand for innovative solutions.
            </p>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-10">
            <!-- Population Demographics Card -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4 text-center">Population Demographics</h3>
                <div class="flex flex-col h-56 md:h-64">
                    <canvas id="populationChart" class="flex-grow"></canvas>
                </div>
                <div class="grid grid-cols-2 gap-4 text-center mt-4">
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <p class="text-2xl font-bold text-blue-600">~1.46B</p>
                        <p class="text-sm text-gray-700">Total Population</p>
                    </div>
                    <div class="bg-green-50 p-3 rounded-lg">
                        <p class="text-2xl font-bold text-green-600">60%</p>
                        <p class="text-sm text-gray-700">Under Age 35</p>
                    </div>
                </div>
            </div>
            
            <!-- Healthcare Infrastructure Card -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4 text-center">Healthcare Infrastructure</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                                <i class="fas fa-hospital text-blue-600 text-lg"></i>
                            </div>
                            <h4 class="text-lg font-semibold">~200,000</h4>
                        </div>
                        <p class="text-sm text-gray-700">Healthcare Facilities across 600,000+ villages and 4,600+ cities</p>
                    </div>
                    
                    <div class="bg-green-50 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                                <i class="fas fa-user-md text-green-600 text-lg"></i>
                            </div>
                            <h4 class="text-lg font-semibold">~1.3 Million</h4>
                        </div>
                        <p class="text-sm text-gray-700">Doctors with growing need for digital healthcare solutions</p>
                    </div>
                    
                    <div class="bg-purple-50 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                                <i class="fas fa-users text-purple-600 text-lg"></i>
                            </div>
                            <h4 class="text-lg font-semibold">~3.8 Million</h4>
                        </div>
                        <p class="text-sm text-gray-700">Healthcare Workers seeking tools to enhance patient care</p>
                    </div>
                    
                    <div class="bg-yellow-50 rounded-lg p-4">
                        <div class="flex items-center mb-2">
                            <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                                <i class="fas fa-chart-line text-yellow-600 text-lg"></i>
                            </div>
                            <h4 class="text-lg font-semibold">15% Growth</h4>
                        </div>
                        <p class="text-sm text-gray-700">Annual healthcare workforce expansion driven by digital health</p>
                    </div>
                </div>
                
                <div class="mt-4 bg-red-50 rounded-lg p-4">
                    <div class="flex items-center">
                        <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                            <i class="fas fa-laptop-medical text-red-600 text-lg"></i>
                        </div>
                        <div>
                            <h4 class="text-lg font-semibold">Digital Health Transformation</h4>
                            <p class="text-sm text-gray-700">45% of healthcare facilities actively seeking AI-powered solutions</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Revenue Opportunity Card -->
        <div class="bg-white rounded-xl shadow-lg p-6 mb-10">
            <h3 class="text-xl font-bold mb-4 text-center">Revenue Opportunity</h3>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="flex flex-col h-60 md:h-72">
                    <canvas id="marketGrowthChart" class="flex-grow"></canvas>
                </div>
                
                <div class="flex flex-col justify-center">
                    <div class="mb-4">
                        <h4 class="text-lg font-semibold mb-2">T3Care Market Potential</h4>
                        <p class="text-sm text-gray-700 mb-3">
                            Capturing just 1% of the digital health market could yield ~1M active users and approximately ₹250 crore in annual recurring revenue.
                        </p>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-blue-50 p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-blue-600">₹420B</p>
                            <p class="text-sm text-gray-700">Digital Health Market</p>
                        </div>
                        <div class="bg-green-50 p-3 rounded-lg text-center">
                            <p class="text-2xl font-bold text-green-600">20-25%</p>
                            <p class="text-sm text-gray-700">Annual Growth Rate</p>
                        </div>
                    </div>
                    
                    <div class="mt-4 bg-indigo-50 p-3 rounded-lg">
                        <p class="text-sm text-gray-700">
                            <span class="font-semibold">Market Projection:</span> Digital healthcare in India expected to reach 
                            <span class="text-indigo-600 font-bold">₹871B by 2028</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Chart Cards -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="text-xl font-bold mb-3">Rural-Urban Synergy</h3>
                <p class="text-sm text-gray-700 mb-4">
                    T3Care AI's scalable framework supports solo practitioners in rural areas with offline capabilities and large urban hospitals, addressing diverse healthcare delivery challenges.
                </p>
                <div class="h-64 md:h-80">
                    <canvas id="ruralUrbanChart"></canvas>
                </div>
            </div>
            
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="text-xl font-bold mb-3">AI-Driven Transformation</h3>
                <p class="text-sm text-gray-700 mb-4">
                    Rising AI adoption for diagnosis, chronic disease management, and efficiency positions T3Care AI as a leader in India's digital health revolution.
                </p>
                <div class="h-64 md:h-80">
                    <canvas id="aiAdoptionChart"></canvas>
                </div>
            </div>
        </div>
        
        <div class="text-center">
            <a href="/business" class="px-6 py-3 bg-green-600 text-white font-medium rounded-lg shadow hover:bg-green-700 transition-all">
                Explore Our Business Model <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Set defaults for all charts
        Chart.defaults.responsive = true;
        Chart.defaults.maintainAspectRatio = false;
        Chart.defaults.font.size = 11;
        Chart.defaults.color = '#4B5563'; // text-gray-600
        
        // Population Chart
        const populationCtx = document.getElementById('populationChart').getContext('2d');
        const populationChart = new Chart(populationCtx, {
            type: 'pie',
            data: {
                labels: ['Rural (65%)', 'Urban (35%)'],
                datasets: [{
                    data: [65, 35],
                    backgroundColor: [
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(54, 162, 235, 0.7)'
                    ],
                    borderColor: [
                        'rgb(75, 192, 192)',
                        'rgb(54, 162, 235)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                plugins: {
                    title: {
                        display: true,
                        text: 'Rural vs Urban Population Distribution',
                        font: {
                            size: 13,
                            weight: 'bold'
                        },
                        padding: {
                            bottom: 10
                        }
                    },
                    legend: {
                        position: 'bottom',
                        labels: {
                            boxWidth: 12,
                            padding: 8,
                            font: {
                                size: 11
                            }
                        }
                    }
                },
                layout: {
                    padding: {
                        top: 5,
                        bottom: 5
                    }
                }
            }
        });
        
        // Market Growth Chart
        const marketGrowthCtx = document.getElementById('marketGrowthChart').getContext('2d');
        const marketGrowthChart = new Chart(marketGrowthCtx, {
            type: 'bar',
            data: {
                labels: ['2024', '2025', '2026', '2027', '2028'],
                datasets: [{
                    label: 'Digital Health Market Size (₹ Billion)',
                    data: [420, 504, 605, 726, 871],
                    backgroundColor: 'rgba(54, 162, 235, 0.7)',
                    borderColor: 'rgb(54, 162, 235)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: '₹ Billion',
                            font: {
                                size: 11
                            }
                        },
                        ticks: {
                            font: {
                                size: 10
                            }
                        }
                    },
                    x: {
                        ticks: {
                            font: {
                                size: 10
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'India Digital Health Market Growth',
                        font: {
                            size: 13,
                            weight: 'bold'
                        },
                        padding: {
                            bottom: 10
                        }
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `₹${context.raw} Billion`;
                            }
                        },
                        titleFont: {
                            size: 11
                        },
                        bodyFont: {
                            size: 11
                        }
                    }
                },
                layout: {
                    padding: {
                        top: 5,
                        bottom: 5
                    }
                }
            }
        });
        
        // Rural-Urban Chart
        const ruralUrbanCtx = document.getElementById('ruralUrbanChart').getContext('2d');
        const ruralUrbanChart = new Chart(ruralUrbanCtx, {
            type: 'radar',
            data: {
                labels: [
                    'Affordability', 
                    'Accessibility', 
                    'Offline Capability', 
                    'Language Support', 
                    'Scalability'
                ],
                datasets: [
                    {
                        label: 'T3Care Rural Focus',
                        data: [90, 85, 80, 85, 90],
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderColor: 'rgb(75, 192, 192)',
                        pointBackgroundColor: 'rgb(75, 192, 192)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(75, 192, 192)'
                    },
                    {
                        label: 'Competitors',
                        data: [40, 35, 20, 45, 70],
                        backgroundColor: 'rgba(255, 99, 132, 0.2)',
                        borderColor: 'rgb(255, 99, 132)',
                        pointBackgroundColor: 'rgb(255, 99, 132)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(255, 99, 132)'
                    }
                ]
            },
            options: {
                elements: {
                    line: {
                        borderWidth: 2
                    },
                    point: {
                        radius: 3
                    }
                },
                scales: {
                    r: {
                        angleLines: {
                            display: true
                        },
                        suggestedMin: 0,
                        suggestedMax: 100,
                        ticks: {
                            display: false,
                            stepSize: 25
                        },
                        pointLabels: {
                            font: {
                                size: 10
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'T3Care vs Competitors: Rural Capabilities',
                        font: {
                            size: 13,
                            weight: 'bold'
                        },
                        padding: {
                            bottom: 10
                        }
                    },
                    legend: {
                        position: 'bottom',
                        labels: {
                            boxWidth: 12,
                            padding: 8,
                            font: {
                                size: 11
                            }
                        }
                    }
                },
                layout: {
                    padding: {
                        top: 5,
                        bottom: 5
                    }
                }
            }
        });
        
        // AI Adoption Chart
        const aiAdoptionCtx = document.getElementById('aiAdoptionChart').getContext('2d');
        const aiAdoptionChart = new Chart(aiAdoptionCtx, {
            type: 'line',
            data: {
                labels: ['2021', '2022', '2023', '2024', '2025', '2026'],
                datasets: [{
                    label: 'AI Adoption in Indian Healthcare (%)',
                    data: [10, 15, 20, 25, 30, 40],
                    fill: true,
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgb(153, 102, 255)',
                    tension: 0.3
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        title: {
                            display: true,
                            text: 'Adoption Rate (%)',
                            font: {
                                size: 11
                            }
                        },
                        ticks: {
                            font: {
                                size: 10
                            }
                        }
                    },
                    x: {
                        ticks: {
                            font: {
                                size: 10
                            }
                        }
                    }
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'AI Adoption in Indian Healthcare',
                        font: {
                            size: 13,
                            weight: 'bold'
                        },
                        padding: {
                            bottom: 10
                        }
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        titleFont: {
                            size: 11
                        },
                        bodyFont: {
                            size: 11
                        }
                    }
                },
                layout: {
                    padding: {
                        top: 5,
                        bottom: 5
                    }
                }
            }
        });
        
        // Create a uniform resizing function for all charts
        function resizeCharts() {
            populationChart.resize();
            marketGrowthChart.resize();
            ruralUrbanChart.resize();
            aiAdoptionChart.resize();
        }
        
        // Initial resize on load
        resizeCharts();
        
        // Add window resize handler for responsive behavior
        window.addEventListener('resize', resizeCharts);
        
        // Additional handler for orientation changes on mobile
        window.addEventListener('orientationchange', function() {
            setTimeout(resizeCharts, 100);
        });
    });
</script>
{% endblock %}